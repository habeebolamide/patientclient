(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e0fdebb"],{"0dfd":function(t,e,s){"use strict";s("cc4c")},"300a":function(t,e,s){},cc4c:function(t,e,s){},ec0e:function(t,e,s){"use strict";s("300a")},f9b4:function(t,e,s){"use strict";s.r(e);var a=s("7496"),n=s("8336"),o=s("b0af"),r=s("99d9"),i=s("a523"),l=s("169a"),c=s("8860"),u=s("da13"),d=s("5d23"),m=s("e449"),g=s("2fa4"),p=s("8654"),f=(s("7f7f"),s("386d"),function(){var t=this,e=t._self._c;return e(a["a"],[e(o["a"],[e("VueElementLoading",{attrs:{active:t.loading,spinner:"line-scale",color:"var(--primary)"}}),e(i["a"],[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mt-5"},[e(p["a"],{attrs:{label:"Search By Name",outlined:"","append-icon":"mdi-magnify"},on:{keyup:t.searchData},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter.search"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive mt-4"},[e("table",{staticClass:"table table-hover table-sm mb-0 requests-table"},[e("thead",[e("tr",[e("th",{staticClass:"hidden-sm-down"},[t._v("S/N")]),e("th",{staticClass:"hidden-sm-down"},[t._v("User Info")]),e("th",{staticClass:"hidden-sm-down"},[t._v("Username")]),e("th",{staticClass:"hidden-sm-down"},[t._v("Phone ")]),e("th",{staticClass:"hidden-sm-down"},[t._v("User Type")]),e("th",{staticClass:"hidden-sm-down"},[t._v("Status")]),e("th",[t._v("Action")])])]),e("tbody",t._l(t.users.data,(function(s,a){return e("tr",{key:a},[e("td",[t._v(" "+t._s(a+1)+" ")]),e("td",[e("span",{staticClass:"d-flex pt-2"},[e("span",[e("span",{staticClass:"b-avatar rounded-circle",class:t.getRandomBadgeClass(),staticStyle:{width:"38px",height:"38px","font-weight":"600"}},[t._v("\n                                                    "+t._s(t.getInitials(s.name))+"\n                                                ")])]),e("span",{staticClass:"ml-3"},[e("span",{staticClass:"fw-semi-bold"},[t._v("  "+t._s(s.name))]),e("p",[e("small",[e("span",{staticClass:"text-semi-muted"},[t._v("  "+t._s(s.email))])])])])])]),e("td",{staticClass:"text-dark"},[t._v("\n                                        "+t._s(s.username?s.username:"-")+"\n                                    ")]),e("td",{staticClass:"text-dark"},[t._v("\n                                        "+t._s(s.phone?s.phone:"-")+"\n                                    ")]),e("td",{staticClass:"font-weight-bolder"},[e("span",{staticClass:"badge badge-pill",class:"user"==s.user_type?"badge-light-info":"badge-light-warning"},[t._v("\n                                            "+t._s(s.user_type)+"\n                                        ")])]),e("td",[e("span",{staticClass:"badge badge-pill",class:"active"==s.status?"badge-light-primary":"badge-light-danger"},[t._v("\n                                            "+t._s(s.status)+"\n                                        ")])]),e("td",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e(m["a"],{attrs:{bottom:"",origin:"center center",transition:"scale-transition","close-on-content-click":t.closeOnContentClick,left:""},scopedSlots:t._u([{key:"activator",fn:function(s){var a=s.on,o=s.attrs;return[e(n["a"],t._g(t._b({attrs:{color:"black",icon:""}},"v-btn",o,!1),a),[e("i",{staticClass:"fa fa-list-ul"})])]}}],null,!0)},[e(c["a"],[e(u["a"],[e(d["b"],{staticStyle:{cursor:"pointer"},on:{click:function(e){t.setCurrent(s),t.$bvModal.show("edit")}}},[e("i",{staticClass:"mdi mdi-square-edit-outline mr-1"}),t._v(" Edit Details\n                                                    ")])],1),e(u["a"],[e(d["b"],{staticStyle:{cursor:"pointer"},on:{click:function(e){t.openConfirm4=!0,t.reset_id=s.id,t.currentUser=s}}},[e("i",{staticClass:"mdi mdi-square-edit-outline mr-1"}),t._v(" login as\n                                                    ")])],1),e(u["a"],[e(d["b"],{staticStyle:{cursor:"pointer"},on:{click:function(e){t.ResetPassword(s),t.openConfirm3=!0,t.reset_id=s.id}}},[e("i",{staticClass:"mdi mdi-account-outline mr-1"}),t._v(" Reset Password\n                                                    ")])],1)],1)],1)],1)])})),0)])])]),e("div",{staticClass:"col-md-12"},[e("laravelVuePagination",{attrs:{data:t.users},on:{"pagination-change-page":t.getUsers}})],1),e("b-modal",{staticStyle:{background:"white"},attrs:{size:"md",title:"Edit user details",id:"edit","hide-footer":""}},[e("edit",{attrs:{user:t.currentUser},on:{updated:t.getUsers}})],1),e(l["a"],{attrs:{"max-width":"450"},model:{value:t.openConfirm4,callback:function(e){t.openConfirm4=e},expression:"openConfirm4"}},[e(o["a"],[e(r["c"],{staticClass:"text-h5"},[e("p",{staticClass:"text-success"},[t._v("You are about to "),e("b",[t._v(" Login As "+t._s(t.currentUser.fullname))])]),e("p",[e("small",[e("b",[t._v("Note: ")]),t._v(" This will make you act as "),e("b",[t._v(t._s(t.currentUser.fullname))])])])]),e(r["b"],[t._v("\n                            Are you sure you want to perform this operation ?\n                        ")]),e(r["a"],[e(g["a"]),e(n["a"],{attrs:{color:" darken-1",text:""},on:{click:function(e){t.openConfirm4=!1}}},[t._v("\n                                No, exit\n                            ")]),e(n["a"],{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.loginAs(t.reset_id),t.openConfirm4=!1}}},[t._v("\n                                Yes, continue\n                            ")])],1)],1)],1)],1)])],1)],1)}),h=[],_=(s("28a5"),s("7211")),b=s.n(_),v=s("6ad0"),C=s.n(v),y=s("62ad"),k=s("0fd9"),w=function(){var t=this,e=t._self._c;return e("div",[e("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.updateUserDetails.apply(null,arguments)}}},[e("VueElementLoading",{attrs:{active:t.loading,spinner:"bar-fade-scale",color:"var(--primary)",text:"Loading..",duration:"0.6"}}),e(r["b"],{staticClass:"_body"},[e(i["a"],{staticClass:"px-0"},[e(k["a"],[e(y["a"],{attrs:{cols:"12"}},[t.error_messg.lname?e("small",{staticClass:"text-danger"},[t._v(t._s(t.error_messg.lname[0]))]):t._e(),e(p["a"],{attrs:{label:"Name*",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e(y["a"],{attrs:{cols:"12"}},[t.error_messg.fname?e("small",{staticClass:"text-danger"},[t._v(t._s(t.error_messg.fname[0]))]):t._e(),e(p["a"],{attrs:{label:"Username*",required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),e(y["a"],{attrs:{cols:"12"}},[t.error_messg.email?e("small",{staticClass:"text-danger"},[t._v(t._s(t.error_messg.email[0]))]):t._e(),e(p["a"],{attrs:{label:"Email*",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),e(y["a"],{attrs:{cols:"12"}},[t.error_messg.phone?e("small",{staticClass:"text-danger"},[t._v(t._s(t.error_messg.phone[0]))]):t._e(),e(p["a"],{attrs:{label:"Phone",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1)],1)],1),e(r["a"],[e(g["a"]),e(n["a"],{staticClass:"mr-4",attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.closeMe()}}},[t._v("\n                Close\n            ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n                Update\n            ")])],1)],1)])},x=[],O=(s("bc3a"),{props:["user","authToken"],components:{VueElementLoading:C.a},data:function(){return{loading:!1,form:this.user,error_messg:{}}},methods:{updateUserDetails:function(){var t=this;this.loading=!0,this.$api.put(this.dynamic_route("manage_users/edit"),this.form,{}).then((function(){t.$emit("updated"),t.$toast.success("User details updated successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),t.closeMe()})).catch((function(e){t.$toast.error("An error occurred. Please try again!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).finally((function(){return t.loading=!1}))},closeMe:function(){this.$bvModal.hide("edit")}},mounted:function(){}}),U=O,P=(s("ec0e"),s("2877")),$=Object(P["a"])(U,w,x,!1,null,null,null),B=$.exports,S={data:function(){return{users:{},filter:{},loading:!1,closeOnContentClick:!0,currentUser:{},openConfirm:!1,openConfirm2:!1,openConfirm3:!1,openConfirm4:!1}},components:{VueElementLoading:C.a,laravelVuePagination:b.a,edit:B},computed:{},methods:{getUsers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$api.post(this.dynamic_route("manage_users/getuser?page=".concat(e)),{filter:this.filter}).then((function(e){t.users=e.data.users,t.loading=!1}))},setCurrent:function(t){this.currentUser=t},searchData:function(){this.getUsers()},getInitials:function(t){var e=t.trim().split(" "),s=e.reduce((function(t,s,a){return 0!==a&&a!==e.length-1||(t="".concat(t).concat(s.charAt(0).toUpperCase())),t}),"");return s},getRandomBadgeClass:function(){var t=["badge-light-info","badge-light-primary","badge-light-danger","badge-light-success","badge-light-warning","badge-light-secondary"];return t[Math.floor(Math.random()*t.length)]},ResetPassword:function(t){var e=this,s=t.id;this.$api.post(this.dynamic_route("manage_users/reset_password/".concat(s))).then((function(t){e.$toast.success("Password Reset successfully!",{position:"top-center",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),e.getUsers()}))},loginAs:function(t){var e=this;this.loading=!0,this.$api.get(this.dynamic_route("manage_users/login-as/".concat(t)),{}).then((function(t){if(t.data.access_token){var s={auth_token:t.data.access_token,auth_user:t.data.data},a=JSON.parse(localStorage.getItem("auth_user")),n=Object.assign({},s,a);localStorage.setItem("auth_user",JSON.stringify(n)),location.href="/app/dashboard"}e.$toast.success("Operation successfully!",{position:"top-center",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).catch((function(t){return console.log(t)})).finally((function(){e.loading=!1}))}},mounted:function(){this.getUsers()}},L=S,H=(s("0dfd"),Object(P["a"])(L,f,h,!1,null,"7a7b003a",null));e["default"]=H.exports}}]);